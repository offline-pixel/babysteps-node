(self.webpackChunkui=self.webpackChunkui||[]).push([[113],{9341:(e,t,r)=>{"use strict";function n(e,t,r,n,s,o,i){try{var a=e[o](i),c=a.value}catch(l){return void r(l)}a.done?t(c):Promise.resolve(c).then(n,s)}r.d(t,{J:()=>u});var s=r(639),o=r(1841),i=r(6215),a=r(2340);let c=(()=>{class e{constructor(e){this.http=e,this.auth=""}setHeaders(){return{headers:new o.WM({"Content-Type":"application/json",Accept:"application/json"}),reportProgress:!0,withCredentials:!0}}general(e){const t=new o.aW(e.type,`${a.n}${e.version}${e.endpoint}`,e.toServer);return this.http.request(t)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=r(6653);let u=(()=>{class e{constructor(e,t){this._api=e,this._route=t,this.epd=new s.vpe,this.eiui=new s.vpe,this.$button=new i.X(0),this.multiOffers=new i.X(0),this.$temp=new i.X(0)}HttpEventResponse(e){switch(e.type){case o.dt.Sent:case o.dt.ResponseHeader:break;case o.dt.DownloadProgress:this.loading=Math.round(e.loaded/1024);break;case o.dt.Response:return e.body}}callGeneral(e){"login"==e.func||"register"==e.func||"forgotpassword"==e.func?this.common(e):"offers"==e.func?this.offers(e):"upInvoice"==e.func?this.upInvoice(e):"userinvoices"==e.func&&this.getUserInvoices(e)}getUserInvoices(e){this._api.general(e).subscribe(e=>{let t=this.HttpEventResponse(e);4===e.type&&console.log(t)},e=>{})}common(e){let t;"login"==e.func&&(t="upload"),"register"==e.func&&(t="dashboard"),"forgotpassword"==e.func&&(t="check-email"),this._api.general(e).subscribe(r=>{let n=this.HttpEventResponse(r);if(4===r.type){const r=n;"login"!=e.func&&"register"!=e.func||localStorage.setItem("token",r.t),this.$button.next({arr:r,loaded:1,_route:t})}},e=>{this.$button.next({error:e.error.error,loaded:0})})}profile(e){this._api.general(e).subscribe(e=>{let t=this.HttpEventResponse(e);if(4===e.type){const e=t;this.epd.emit({arr:e,loaded:1}),console.log(e)}},e=>{this.epd.emit({error:e.error.error,loaded:0})})}offers(e){var t=this;this._api.general(e).subscribe(function(){var e,r=(e=function*(e){let r=t.HttpEventResponse(e);if(4===e.type){const e=yield t.doExpandJSON(r);t.multiOffers.next({arr:e,loaded:1})}},function(){var t=this,r=arguments;return new Promise(function(s,o){var i=e.apply(t,r);function a(e){n(i,s,o,a,c,"next",e)}function c(e){n(i,s,o,a,c,"throw",e)}a(void 0)})});return function(e){return r.apply(this,arguments)}}(),e=>{this.multiOffers.next({error:e.error.error,loaded:0})})}upInvoice(e){this._api.general(e).subscribe(e=>{let t=this.HttpEventResponse(e);4===e.type&&(this.eiui.emit({arr:t,loaded:1}),this._route.navigate(["/dashboard"]))},e=>{this.eiui.emit({error:e.error.error,loaded:0})})}doExpandJSON(e){let t={},r=[],n=e.n.split("~");return e.d.map(e=>{t={};for(let r=0;r<n.length;r++){let s=e.split("~")[r];if("_"==n[r].substr(n[r].length-1)){const e=s.split("*");")"==e[e.length-1].substr(e[e.length-1].length-1)&&console.log(e),t[n[r]]=s.split("*")}else t[n[r]]=s}r.push(t)}),r}npmIdbLib(e){}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(c),s.LFG(l.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DashboardModule:()=>l});var n=r(8583),s=r(6653),o=r(639),i=r(9341);const a=[{path:"",component:(()=>{class e{constructor(e){this._mid=e}ngOnInit(){let e={type:"GET",endpoint:"/auth/profile",version:"/v1",func:"profile",toServer:{},headers:null};this._mid.profile(e),e={type:"GET",endpoint:"/affiliate/userinvoices",version:"/v1",func:"userinvoices",toServer:{},headers:null},this._mid.callGeneral(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(i.J))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(o.TgZ(0,"p"),o._uU(1,"dashboard works!"),o.qZA())},styles:[""]}),e})()}];let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.Bz.forChild(a)],s.Bz]}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.ez,c]]}),e})()}}]);